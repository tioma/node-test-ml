"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _http=require("http"),_http2=_interopRequireDefault(_http),_express=require("express"),_express2=_interopRequireDefault(_express),_cookieParser=require("cookie-parser"),_cookieParser2=_interopRequireDefault(_cookieParser),_bodyParser=require("body-parser"),_bodyParser2=_interopRequireDefault(_bodyParser),_config=require("./config/config"),_config2=_interopRequireDefault(_config),_path=require("path"),_path2=_interopRequireDefault(_path),_morgan=require("morgan"),_morgan2=_interopRequireDefault(_morgan),_log=require("log"),_log2=_interopRequireDefault(_log),_serveFavicon=require("serve-favicon"),_serveFavicon2=_interopRequireDefault(_serveFavicon),_items=require("./routes/items.routes"),_items2=_interopRequireDefault(_items),_categories=require("./routes/categories.routes"),_categories2=_interopRequireDefault(_categories),app=(0,_express2.default)(),server=_http2.default.createServer(app),port=process.env.PORT||3002,log=new _log2.default("debug");app.use((0,_serveFavicon2.default)(_path2.default.join(__dirname,"public","favicon.ico"))),app.use((0,_morgan2.default)(_config2.default.log_level)),app.use(_bodyParser2.default.json()),app.use(_bodyParser2.default.urlencoded({extended:!1})),app.use((0,_cookieParser2.default)());var indexPath=_path2.default.join(__dirname,"public");app.use(_express2.default.static(indexPath)),app.use("/api/items",_items2.default),app.use("/api/categorias",_categories2.default),app.get("/*",function(e,r){r.sendFile(indexPath+"/index.html")}),server.listen(port,function(){log.info("Servidor iniciado en puerto "+port)});